(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2703:function(e,t,s){Promise.resolve().then(s.bind(s,1368))},1368:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return D}});var i=s(7437),a=s(3691),l=s(5066),n=s(9512),r=s(5747);function o(e){let{scrollRef:t}=e,{theme:s}=(0,n.F)();return(0,i.jsxs)("div",{className:"absolute bottom-0 hover:cursor-pointer",onClick:()=>{var e;return null===(e=t.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth",block:"start"})},children:[(0,i.jsx)(r.Z,{width:"300",height:300,cx:"150",cy:150,rx:"30",ry:"30",startOffset:0,reversed:!1,text:"SCROLL - SCROLL - SCROLL -",textProps:{style:{fontSize:12}},textPathProps:{fill:"dark"===s?"#ffffff":"#000"},tspanProps:{dy:"13"},ellipseProps:null,svgProps:{className:"rotating-curved-text"}}),(0,i.jsx)(l.Z,{className:"absolute transform -translate-x-1/2 -translate-y-1/2 text-primary top-1/2 left-1/2"}),(0,i.jsx)("span",{className:"sr-only",children:"Scroll to weather info"})]})}function d(e){let{scrollRef:t}=e;return(0,i.jsxs)(a.EA.div,{className:"relative flex flex-col items-center justify-center h-dvh",initial:{scale:0,y:100},animate:{scale:1,y:0},children:[(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[(0,i.jsxs)("h1",{className:"text-3xl font-extrabold tracking-tight scroll-m-20 lg:text-8xl md:text-6xl",children:["Meteo ",(0,i.jsx)("span",{className:"text-primary",children:" Vallauri"})," Velletri"]}),(0,i.jsx)("p",{className:"text-center text-md lg:text-3xl md:text-xl text-muted-foreground",children:"Benvenuto. Su questo sito potrai trovare le condizioni climatiche di Velletri."})]}),(0,i.jsx)(o,{scrollRef:t})]})}var c=s(882);let m=c.fC,x=c.wy,u=c.Fw;var h=s(5444),p=s(993),f=s(2421),j=s(2265),v=s(4361);function y(e){let{icon:t,max:s,min:a,day:l,day2:n}=e;return(0,i.jsxs)("div",{className:"flex items-center justify-between text-primary-foregroud",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[t,(0,i.jsx)(v.Z,{text:"Max / Min",children:(0,i.jsxs)("div",{className:"cursor-pointer grid items-baseline grid-cols-[1fr_0.3fr_1fr] ms-3",children:[(0,i.jsxs)("h2",{className:"w-[60px] text-3xl md:text-4xl md:w-[80px] font-semibold tracking-tight scroll-20",children:[s,(0,i.jsx)("sup",{children:"\xb0"})]}),(0,i.jsx)("p",{className:"text-lg text-muted-foreground w-[20px] text-center",children:"/"}),(0,i.jsxs)("p",{className:"text-lg text-muted-foreground",children:[a,(0,i.jsx)("sup",{children:"\xb0"})]})]})})]}),(0,i.jsx)("div",{className:"flex items-center justify-between",children:(0,i.jsxs)("div",{className:"flex items-baseline",children:[(0,i.jsx)("h2",{className:"text-2xl font-semibold tracking-tight md:text-4xl scroll-m-20",children:l}),(0,i.jsx)("p",{className:"text-sm ms-2 text-muted-foreground",children:n})]})})]})}var g=s(495);function N(e){let{title:t,min:s,max:l,days:n}=e,[r,o]=(0,j.useState)(!1);return(0,i.jsx)(h.W,{className:"order-2 col-span-2 lg:m-0 lg:h-full",children:(0,i.jsxs)(m,{open:r,onOpenChange:o,className:"flex flex-col space-y-3 lg:h-full lg:justify-between",children:[(0,i.jsx)("div",{className:"flex items-center justify-between",children:(0,i.jsxs)("h4",{className:"text-2xl font-semibold",children:["Informazioni sulla ",t]})}),(0,i.jsxs)(a.EA.div,{className:"space-y-3",initial:{y:20,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.5},children:[(0,i.jsx)(y,{icon:(0,i.jsx)(p.Z,{stroke:"#17A34A"}),max:l[6],min:s[6],day:n[6]}),(0,i.jsx)(y,{icon:(0,i.jsx)(p.Z,{stroke:"#17A34A"}),max:l[5],min:s[5],day:n[5]}),(0,i.jsx)(y,{icon:(0,i.jsx)(p.Z,{stroke:"#17A34A"}),max:l[4],min:s[4],day:n[4]}),(0,i.jsx)(u,{children:(0,i.jsxs)(a.EA.div,{variants:{hidden:{opacity:0,scaleY:0},visible:{opacity:1,scaleY:1}},initial:"hidden",animate:r?"visible":"hidden",transition:{duration:.5,type:"spring"},className:"space-y-3",children:[(0,i.jsx)(y,{icon:(0,i.jsx)(p.Z,{stroke:"#17A34A"}),max:l[3],min:s[3],day:n[3]}),(0,i.jsx)(y,{icon:(0,i.jsx)(p.Z,{stroke:"#17A34A"}),max:l[2],min:s[2],day:n[2]}),(0,i.jsx)(y,{icon:(0,i.jsx)(p.Z,{stroke:"#17A34A"}),max:l[1],min:s[1],day:n[1]}),(0,i.jsx)(y,{icon:(0,i.jsx)(p.Z,{stroke:"#17A34A"}),max:l[0],min:s[0],day:n[0]})]})})]}),(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)(x,{asChild:!0,children:(0,i.jsxs)(g.z,{children:[(0,i.jsx)(a.EA.div,{animate:r?"open":"closed",variants:{open:{rotate:180},closed:{rotate:0}},children:(0,i.jsx)(f.Z,{})}),(0,i.jsx)("span",{className:"sr-only",children:"Toggle"})]})})})]})})}var b=s(933),w=s(2585),k=s(5226),A=s(4344),z=s(9702),Z=s(5176),R=s(7296),C=s(721);let E=(0,j.forwardRef)((e,t)=>{let{data:s,lastUpdate:l}=e,{status:n,icon:r}=(0,C.GE)({temperature:s.temp[0].value,humidity:s.humidity[0].value,pressure:s.pressure[0].value}),[o,d]=(0,j.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"px-4 mb-8 col-span-full",ref:t,children:(0,i.jsx)(h.W,{children:(0,i.jsxs)("div",{className:"relative w-full space-y-4 md:flex md:justify-between md:space-y-0 ",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[r,(0,i.jsxs)("h4",{className:"text-lg font-normal tracking-tight scroll-m-20",children:["Il meteo \xe8 attualmente"," ",(0,i.jsx)("span",{className:"font-semibold",children:n.toLowerCase()})]})]}),(0,i.jsx)(A.Z,{orientation:"vertical",className:"absolute hidden h-8 -translate-x-1/2 -translate-y-1/2 md:block bg-primary/20 left-1/2 top-1/2"}),(0,i.jsx)(A.Z,{orientation:"horizontal",className:"block md:hidden absolute w-full -translate-x-1/2 -translate-y-1/2 bg-primary/20 left-1/2 top-1/2 !-mt-0"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(b.Z,{className:"text-primary"}),(0,i.jsxs)("h4",{className:"font-normal tracking-tight text-md md:text-lg scroll-m-20",children:[" ","Ultima rilevazione:"," ",(0,i.jsx)("span",{className:"font-semibold",children:l})]})]})]})})}),(0,i.jsxs)(m,{open:o,onOpenChange:d,children:[(0,i.jsx)(h.F,{children:Object.keys(s).map((e,t)=>{if("delta"===e||"windDir"===e||"windSpeed"===e||"daily"===e)return;let a=e[0].toUpperCase()+e.slice(1),l=Z.dP[a]({stroke:"#17A34A"});return"rain"===e?(0,i.jsx)(k.Z,{title:R.ll[e],value:s[e],icon:(0,i.jsx)(Z.yO.Rainy,{stroke:"#17A34A"}),unit:R.dp[e],subtitle:"Pioggia odierna"},e+t):(0,i.jsx)(w.Z,{title:R.ll[e],tabs:s[e],unit:R.dp[e],icon:l,sub:s.delta[e]},e+t)})}),(0,i.jsx)(a.EA.div,{variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,y:0}},initial:"hidden",animate:o?"visible":"hidden",transition:{duration:.6,type:"just"},className:"mt-4 space-y-3",children:(0,i.jsx)(u,{children:(0,i.jsxs)(h.F,{className:"grid-cols-1  md:!grid-cols-5",children:[(0,i.jsx)("div",{className:"col-span-3 *:mt-0 *:h-full row-span-2",children:s.daily&&(0,i.jsx)(z.Z,{title:"giornata",inViewLoad:!1,graphs:s.daily,lessX:!0,days:s.daily.times})}),["windDir","windSpeed"].map((e,t)=>(0,i.jsx)("div",{className:"col-span-3 *:h-full md:col-span-2 ",children:(0,i.jsx)(k.Z,{title:R.ll[e],value:s[e],icon:(0,i.jsx)(Z.dP.Wind,{stroke:"#17A34A"}),unit:R.dp[e],subtitle:"Informazioni vento odierne"},e+t)},t))]})})}),(0,i.jsx)(c.wy,{className:"w-full mt-4",children:(0,i.jsxs)(g.z,{children:[(0,i.jsx)(v.Z,{text:o?"Mostra meno informazioni":"Mostra pi\xf9 informazioni",children:(0,i.jsx)(a.EA.div,{animate:o?"open":"closed",variants:{open:{rotate:180},closed:{rotate:0}},children:(0,i.jsx)(f.Z,{})})}),(0,i.jsx)("span",{className:"sr-only",children:"Toggle"})]})})]})]})});E.displayName="HeroOverview";var O=s(7476),S=s(9805),M=s(8962);function F(e){let{children:t}=e,s=(0,j.useRef)(null),a=(0,O.Y)(s,{once:!1}),l=(0,S._)();return(0,j.useEffect)(()=>{a&&l.start("visible")},[a]),(0,i.jsx)(M.E.div,{ref:s,variants:{hidden:{scale:0,y:75},visible:{scale:1,y:0}},initial:"hidden",animate:l,transition:{duration:.5},children:t})}var P=s(6460),V=s(1520),T=s(8802),_=s(932),L=s(7570);let U=async()=>{let e=await fetch("./php/datiHome.php",{method:"GET",next:{revalidate:300}});if(!e.ok)throw Error("Failed to fetch");return e.json()};function W(){let e=(0,j.useRef)(null),{data:t,error:s,isLoading:a}=(0,_.a)({queryKey:["fetchWeather"],queryFn:U});if(a)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d,{scrollRef:e}),(0,i.jsx)(T.Z,{ref:e})]});if(s)return console.error(s),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d,{scrollRef:e}),(0,i.jsx)(T.Z,{ref:e})]});let l={temp:(0,L.C8)(t,"temperatura"),humidity:(0,L.C8)(t,"umidita"),pressure:(0,L.C8)(t,"pressione"),windDir:t.ultimaRilevazione.direzioneVentoUltimaRilevazione,windSpeed:t.ultimaRilevazione.velocitaVentoUltimaRilevazione,rain:t.ultimaRilevazione.pioggiaGiornaliera,delta:(0,L.dv)(t),daily:(0,L.fz)(t.rilevazioniGiornaliere)},n={temp:(0,L.Nx)(t,"temperatura"),minTemp:(0,L.Nx)(t,"minTemperatura"),maxTemp:(0,L.Nx)(t,"maxTemperatura"),humidity:(0,L.Nx)(t,"umidita"),rain:(0,L.Nx)(t,"pioggia"),pressure:(0,L.Nx)(t,"pressione")},r=(0,P.WU)(t.ultimaRilevazione.dataOraUltimaRilevazione,"dd MMMM, HH:mm",{locale:V.it}),o=t.giorniSettimanaCorrente.map(e=>(0,P.WU)(e,"dd/MM"));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d,{scrollRef:e}),(0,i.jsx)(F,{children:(0,i.jsx)(E,{ref:e,data:l,lastUpdate:r})}),(0,i.jsxs)("div",{className:"justify-center px-5 m-auto mt-10 max-w-screen-lg lg:grid-cols-5 lg:grid lg:gap-x-4 lg:px-0",children:[(0,i.jsx)(N,{title:"settimana",min:null==n?void 0:n.minTemp,max:null==n?void 0:n.maxTemp,days:o}),(0,i.jsx)(z.Z,{title:"settimana",graphs:{temp:null==n?void 0:n.temp,humidity:null==n?void 0:n.humidity,pressure:null==n?void 0:n.pressure,rain:null==n?void 0:n.rain},days:o})]})]})}var H=s(6094),I=s(3191);let Y=new H.S;function D(){return(0,i.jsx)(I.aH,{client:Y,children:(0,i.jsx)(W,{})})}},4361:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var i=s(7437),a=s(2265),l=s(7071),n=s(7440);let r=l.zt,o=l.fC,d=l.xz,c=a.forwardRef((e,t)=>{let{className:s,sideOffset:a=4,...r}=e;return(0,i.jsx)(l.VY,{ref:t,sideOffset:a,className:(0,n.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})});function m(e){let{children:t,text:s}=e;return(0,i.jsx)(r,{delayDuration:200,children:(0,i.jsxs)(o,{children:[(0,i.jsx)(d,{asChild:!0,children:t}),(0,i.jsx)(c,{className:"rotate-0 ",children:s})]})})}c.displayName=l.VY.displayName}},function(e){e.O(0,[967,287,545,978,71,91,9,971,23,744],function(){return e(e.s=2703)}),_N_E=e.O()}]);