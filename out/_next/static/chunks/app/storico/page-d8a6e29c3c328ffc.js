(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[595],{2425:function(e,t,a){Promise.resolve().then(a.bind(a,8922)),Promise.resolve().then(a.bind(a,7130))},8922:function(e,t,a){"use strict";a.d(t,{ArchiveForm:function(){return R}});var r=a(7437),n=a(2265),s=a(6460),d=a(4241),i=a(8637),o=a(4817),l=a(7440),c=a(495),u=a(518),m=a(7592),f=a(3045);function p(e){let{className:t,classNames:a,showOutsideDays:n=!0,...s}=e;return(0,r.jsx)(f._W,{showOutsideDays:n,className:(0,l.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,l.cn)((0,c.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,l.cn)((0,c.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{...t}=e;return(0,r.jsx)(u.Z,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,r.jsx)(m.Z,{className:"h-4 w-4"})}},...s})}p.displayName="Calendar";var h=a(1520),x=a(1485);let y=x.fC,g=x.xz,b=n.forwardRef((e,t)=>{let{className:a,align:n="center",sideOffset:s=4,...d}=e;return(0,r.jsx)(x.h_,{children:(0,r.jsx)(x.VY,{ref:t,align:n,sideOffset:s,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...d})})});b.displayName=x.VY.displayName;var v=a(4867),w=a(6291);let j=w.fC,N=w.ZA,_=w.B4,k=n.forwardRef((e,t)=>{let{className:a,children:n,...s}=e;return(0,r.jsxs)(w.xz,{ref:t,className:(0,l.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...s,children:[n,(0,r.jsx)(w.JO,{asChild:!0,children:(0,r.jsx)(v.jnn,{className:"w-4 h-4 opacity-50"})})]})});k.displayName=w.xz.displayName;let z=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(w.u_,{ref:t,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",a),...n,children:(0,r.jsx)(v.g8U,{})})});z.displayName=w.u_.displayName;let M=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(w.$G,{ref:t,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",a),...n,children:(0,r.jsx)(v.v4q,{})})});M.displayName=w.$G.displayName;let O=n.forwardRef((e,t)=>{let{className:a,children:n,position:s="popper",...d}=e;return(0,r.jsx)(w.h_,{children:(0,r.jsxs)(w.VY,{ref:t,className:(0,l.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:s,...d,children:[(0,r.jsx)(z,{}),(0,r.jsx)(w.l_,{className:(0,l.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,r.jsx)(M,{})]})})});O.displayName=w.VY.displayName;let C=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(w.__,{ref:t,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",a),...n})});C.displayName=w.__.displayName;let P=n.forwardRef((e,t)=>{let{className:a,children:n,...s}=e;return(0,r.jsxs)(w.ck,{ref:t,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...s,children:[(0,r.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(w.wU,{children:(0,r.jsx)(v.nQG,{className:"w-4 h-4"})})}),(0,r.jsx)(w.eT,{children:n})]})});function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"overview",a=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return Number((a.reduce((e,a)=>e+Number(a[t]),0)/a.length).toFixed(1))};if("overview"===t)return[{title:"Temperatura",tabs:[{key:"Minima",value:a("lowTemp")},{key:"Media",value:a("tempOut")},{key:"Massima",value:a("hiTemp")}],unit:"\xb0C"},{title:"Umidita'",tabs:[{key:"Media",value:a("outHum")}],unit:"%"},{title:"Precipitazioni",tabs:[{key:"Media",value:a("rain")}],unit:"mm"},{title:"Pressione",tabs:[{key:"Media",value:a("bar")}],unit:"hPa"}];if("graph"===t){let t=(()=>{let t={};for(let a of e){let e=(0,s.WU)(new Date(a.data),"yyyy-MM-dd");t[e]||(t[e]=[]),t[e].push(a)}return t})();return[{name:"Temperatura",data:Object.values(t).map(e=>a("tempOut",e)),unit:"\xb0C"},{name:"Umidit\xe0",data:Object.values(t).map(e=>a("outHum",e)),unit:"%"},{name:"Pressione",data:Object.values(t).map(e=>a("bar",e)),unit:"hPa"},{name:"Precipitazioni",data:Object.values(t).map(e=>a("rain",e)),unit:"mm"}]}}function R(){let[e,t]=n.useState(null),[a,u]=n.useState(),[m,f]=n.useState(null),[x,v]=n.useState(null);async function w(){a&&m&&(t(m),"day"===m&&await fetch("/api/day",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({day:(0,s.WU)(a,"yyyy-MM-dd")})}).then(e=>e.json()).then(e=>{console.log(e),v(S(e))}),"month"===m&&await fetch("/api/month",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({day:(0,s.WU)(a,"yyyy-MM-dd")})}).then(e=>e.json()).then(e=>{v({overview:S(e),graphs:S(e,"graph")}),console.log(e)}))}return console.log("tsx component"),console.log(x),console.log(e),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,r.jsxs)(y,{children:[(0,r.jsx)(g,{asChild:!0,children:(0,r.jsxs)(c.z,{variant:"outline",className:(0,l.cn)("w-[280px] justify-start text-left font-normal rounded-3xl shadow-md shadow-input dark:shadow-none dark:bg-stone-900/[0.5] dark:border-border/20 bg-white border border-zinc-200/50",!a&&"text-muted-foreground "),children:[(0,r.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),a?(0,s.WU)(a,"PPP",{locale:h.it}):(0,r.jsx)("span",{children:"Scegli una data"})]})}),(0,r.jsx)(b,{className:"w-auto p-0",children:(0,r.jsx)(p,{mode:"single",selected:a,onSelect:u,initialFocus:!0})})]}),(0,r.jsxs)(j,{onValueChange:e=>f(e),children:[(0,r.jsxs)(k,{className:"w-[180px] rounded-3xl shadow-md shadow-input dark:shadow-none dark:bg-stone-900/[0.5] dark:border-border/20 bg-white border border-zinc-200/50",children:[(0,r.jsx)(_,{placeholder:"Modalit\xe0",className:"text-white"}),(0,r.jsx)("p",{className:"sr-only",children:"Modalit\xe0 di ricerca "})]}),(0,r.jsx)(O,{className:"w-[180px] rounded-xl shadow-md shadow-input dark:shadow-none dark:bg-stone-900 dark:border-border/20 bg-white border border-zinc-200/50 pb-3",children:(0,r.jsxs)(N,{className:"px-2",children:[(0,r.jsx)(C,{className:"-px-1",children:"Modalit\xe0"}),(0,r.jsx)(P,{className:"text-md",value:"month",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(d.Z,{className:"w-3 h-3 me-2"}),"Mensile"]})}),(0,r.jsx)(P,{className:"text-md",value:"day",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(i.Z,{className:"w-3 h-3 me-2"}),"Giornaliera"]})})]})})]}),(0,r.jsx)(c.z,{className:"border shadow-md rounded-2xl shadow-input dark:shadow-none dark:border-border/20 border-zinc-200/50",onClick:w,children:(0,r.jsx)(o.Z,{className:"w-4 h-4"})})]})})}P.displayName=w.ck.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(w.Z0,{ref:t,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",a),...n})}).displayName=w.Z0.displayName},7130:function(e,t,a){"use strict";a.d(t,{default:function(){return s}});var r=a(7437),n=a(2378);function s(){return(0,r.jsx)(n.EA.div,{className:"relative flex items-center justify-center lg:max-w-[80%] m-auto my-56",initial:{scale:0,y:100},animate:{scale:1,y:0},children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsxs)("h1",{className:"mb-5 text-4xl tracking-tight text-center scroll-m-20 xl:text-8xl lg:text-7xl md:text-6xl",children:["Storico dei"," ",(0,r.jsx)("span",{className:"font-bold tracking-wide text-primary mr-4",children:"dati"}),"meteorologici"]}),(0,r.jsx)("p",{className:"text-lg font-light text-center lg:text-3xl md:text-xl text-muted-foreground",children:"Seleziona una data o un mese per visualizzare i dati meteorologici"})]})})}},495:function(e,t,a){"use strict";a.d(t,{d:function(){return o},z:function(){return l}});var r=a(7437),n=a(2265),s=a(1538),d=a(2218),i=a(7440);let o=(0,d.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,t)=>{let{className:a,variant:n,size:d,asChild:l=!1,...c}=e,u=l?s.g7:"button";return(0,r.jsx)(u,{className:(0,i.cn)(o({variant:n,size:d,className:a})),ref:t,...c})});l.displayName="Button"},7440:function(e,t,a){"use strict";a.d(t,{cn:function(){return s}});var r=a(4839),n=a(6164);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,r.W)(t))}}},function(e){e.O(0,[310,641,378,292,315,971,23,744],function(){return e(e.s=2425)}),_N_E=e.O()}]);