(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[595],{420:function(e,t,a){Promise.resolve().then(a.bind(a,2627))},2627:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return V}});var s=a(7437),r=a(6460),l=a(4241),i=a(8637),n=a(4817),d=a(7440),o=a(495),c=a(2265),m=a(518),u=a(7592),p=a(3045);function x(e){let{className:t,classNames:a,showOutsideDays:r=!0,...l}=e;return(0,s.jsx)(p._W,{showOutsideDays:r,className:(0,d.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,d.cn)((0,o.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,d.cn)((0,o.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{...t}=e;return(0,s.jsx)(m.Z,{className:"w-4 h-4"})},IconRight:e=>{let{...t}=e;return(0,s.jsx)(u.Z,{className:"w-4 h-4"})}},...l})}x.displayName="Calendar";var f=a(1520),h=a(1485);let g=h.fC,j=h.xz,y=c.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:l=4,...i}=e;return(0,s.jsx)(h.h_,{children:(0,s.jsx)(h.VY,{ref:t,align:r,sideOffset:l,className:(0,d.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})});y.displayName=h.VY.displayName;var b=a(6294),w=a(5524),N=a(8802),v=a(933),_=a(5444),k=a(2585),S=a(5226),z=a(4344),Z=a(5176),C=a(7296),G=a(721),O=a(9702);let R=e=>{let{data:t,lastUpdate:a,monthData:r}=e,{status:l,icon:i}=(0,G.GE)({temperature:t.temp[0].value,humidity:t.humidity[0].value,pressure:t.pressure[0].value});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"px-4 mb-8 col-span-full",children:(0,s.jsx)(_.W,{children:r?(0,s.jsxs)("div",{className:"flex w-full justify-center items-center gap-2 text-center",children:[(0,s.jsx)(v.Z,{className:"text-primary"}),(0,s.jsxs)("h4",{className:"font-normal tracking-tight text-md md:text-lg scroll-m-20",children:[" ","Rilevazione del mese:"," ",(0,s.jsx)("span",{className:"font-semibold",children:a})]})]}):(0,s.jsxs)("div",{className:"relative w-full space-y-4 md:flex md:justify-between md:space-y-0 ",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[i,(0,s.jsxs)("h4",{className:"text-lg font-normal tracking-tight scroll-m-20",children:["Il meteo \xe8"," ",(0,s.jsx)("span",{className:"font-semibold",children:l.toLowerCase()})]})]}),(0,s.jsx)(z.Z,{orientation:"vertical",className:"absolute hidden h-8 -translate-x-1/2 -translate-y-1/2 md:block bg-primary/20 left-1/2 top-1/2"}),(0,s.jsx)(z.Z,{orientation:"horizontal",className:"block md:hidden absolute w-full -translate-x-1/2 -translate-y-1/2 bg-primary/20 left-1/2 top-1/2 !-mt-0"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.Z,{className:"text-primary"}),(0,s.jsxs)("h4",{className:"font-normal tracking-tight text-md md:text-lg scroll-m-20",children:[" ","Rilevazione del:"," ",(0,s.jsx)("span",{className:"font-semibold",children:a})]})]})]})})}),(0,s.jsx)(_.F,{children:Object.keys(t).map((e,a)=>{if("delta"===e||"windDir"===e||"windSpeed"===e||"daily"===e)return;let r=e[0].toUpperCase()+e.slice(1),l=Z.dP[r]({stroke:"#17A34A"});return"rain"===e?(0,s.jsx)(S.Z,{title:C.ll[e],value:t[e],icon:(0,s.jsx)(Z.yO.Rainy,{stroke:"#17A34A"}),unit:C.dp[e],subtitle:"Pioggia totale mese"},e+a):(0,s.jsx)(k.Z,{title:C.ll[e],tabs:t[e],unit:C.dp[e],icon:l,sub:t.delta[e]},e+a)})}),r?null:(0,s.jsxs)(_.F,{className:"grid-cols-1 py-4  md:!grid-cols-5",children:[(0,s.jsx)("div",{className:"col-span-3 *:mt-0 *:h-full row-span-2",children:(0,s.jsx)(O.Z,{title:"giornata",inViewLoad:!1,graphs:{temp:Object.values(t.temp).map(e=>e.value),humidity:Object.values(t.humidity).map(e=>e.value),pressure:Object.values(t.pressure).map(e=>e.value),rain:[t.rain]},days:["3:00","6:00","9:00","12:00","15:00","18:00","21:00"]})}),["windDir","windSpeed"].map((e,a)=>(0,s.jsx)("div",{className:"col-span-3 *:h-full md:col-span-2 ",children:(0,s.jsx)(S.Z,{title:C.ll[e],value:t[e],icon:(0,s.jsx)(Z.dP.Wind,{stroke:"#17A34A"}),unit:C.dp[e],subtitle:"Informazioni vento odierne"},e+a)},a))]}),r&&(0,s.jsx)(O.Z,{...r,title:"mese"})]})};R.displayName="ArchiveOverview";var U=a(7570);function F(){let[e,t]=(0,c.useState)(new Date),[a,m]=(0,c.useState)("month"),u=(0,w.D)({mutationFn:async()=>{let e={method:"GET",headers:{"Content-Type":"application/json"}},t=await ("day"===a?fetch("url1",e):fetch("./php/datiStorico.php",e)),s=await t.json();if("day"===a);else{let e=s.rilevazioniUltimi30Giorni;return{data:{temp:(0,U.IF)(e,"Temperatura"),humidity:(0,U.IF)(e,"Umidita"),pressure:(0,U.IF)(e,"Pressione"),rain:Number(e.map(e=>Number(e.pioggiaGiornaliera)).reduce((e,t)=>e+t,0).toFixed(2)),delta:{temp:(0,U.QD)(e,"Temperatura"),humidity:(0,U.QD)(e,"Umidita"),pressure:(0,U.QD)(e,"Pressione"),rain:(0,U.QD)(e,"pioggiaGiornaliera")}},lastUpdate:(0,r.WU)(e[0].data,"dd/MM")+" - "+(0,r.WU)(e.at(-1).data,"dd/MM"),monthData:{graphs:{temp:e.map(e=>Number(e.mediaTemperatura)),humidity:e.map(e=>Number(e.mediaUmidita)),pressure:e.map(e=>Number(e.mediaPressione)),rain:e.map(e=>Number(e.pioggiaGiornaliera))},days:e.map(e=>(0,r.WU)(e.data,"dd/MM"))}}}return s}});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-32 grid md:grid-cols-[2fr_1fr_0.2fr] gap-4 max-w-screen-md m-auto px-4 ",children:[(0,s.jsxs)(g,{children:[(0,s.jsx)(j,{asChild:!0,children:(0,s.jsxs)(o.z,{variant:"outline",className:(0,d.cn)("w-[280px] col-span-2  md:col-span-1 m-auto justify-start text-left font-normal rounded-3xl shadow-md shadow-input dark:shadow-none dark:bg-stone-900/[0.5] dark:border-border/20 bg-white border border-zinc-200/50",!e&&"text-muted-foreground "),children:[(0,s.jsx)(l.Z,{className:"w-4 h-4 mr-2"}),e?(0,r.WU)(e,"PPP",{locale:f.it}):(0,s.jsx)("span",{children:"Scegli una data"})]})}),(0,s.jsx)(y,{className:"w-auto p-0",children:(0,s.jsx)(x,{mode:"single",selected:e,onSelect:e=>t(e),initialFocus:!0})})]}),(0,s.jsxs)(b.Select,{defaultValue:"month",onValueChange:e=>m(e),children:[(0,s.jsxs)(b.SelectTrigger,{className:"w-[180px] rounded-3xl shadow-md shadow-input dark:shadow-none dark:bg-stone-900/[0.5] dark:border-border/20 bg-white border border-zinc-200/50",children:[(0,s.jsx)(b.SelectValue,{placeholder:"Modalit\xe0",className:"text-white","aria-label":"Seleziona una modalit\xe0"}),(0,s.jsx)("p",{className:"sr-only",children:"Modalit\xe0 di ricerca "})]}),(0,s.jsx)(b.SelectContent,{className:"w-[180px] rounded-xl shadow-md shadow-input dark:shadow-none dark:bg-stone-900 dark:border-border/20 bg-white border border-zinc-200/50 pb-3",children:(0,s.jsxs)(b.SelectGroup,{className:"px-2",children:[(0,s.jsx)(b.SelectLabel,{className:"-px-1",children:"Modalit\xe0"}),(0,s.jsx)(b.SelectItem,{className:"text-md",value:"month",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(l.Z,{className:"w-3 h-3 me-2"}),"Mensile"]})}),(0,s.jsx)(b.SelectItem,{className:"text-md",value:"day",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(i.Z,{className:"w-3 h-3 me-2"}),"Giornaliera"]})})]})})]}),(0,s.jsxs)(o.z,{className:"border shadow-md rounded-2xl shadow-input dark:shadow-none dark:border-border/20 border-zinc-200/50",onClick:()=>u.mutate(),children:[(0,s.jsx)(n.Z,{className:"w-4 h-4"}),(0,s.jsx)("p",{className:"sr-only",children:"Cerca"})]})]}),u.isPending&&(0,s.jsx)(N.Z,{}),u.isError&&(0,s.jsx)("div",{children:JSON.stringify(u.error)}),u.isSuccess&&(0,s.jsx)(R,{...u.data})]})}var P=a(3691);function D(){return(0,s.jsx)(P.EA.div,{className:"relative flex items-center justify-center lg:max-w-[80%] m-auto my-56",initial:{scale:0,y:100},animate:{scale:1,y:0},children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsxs)("h1",{className:"mb-5 text-4xl tracking-tight text-center scroll-m-20 xl:text-8xl lg:text-7xl md:text-6xl",children:["Storico dei"," ",(0,s.jsx)("span",{className:"font-bold tracking-wide text-primary mr-4",children:"dati"}),"meteorologici"]}),(0,s.jsx)("p",{className:"text-lg font-light text-center lg:text-3xl md:text-xl text-muted-foreground",children:"Seleziona una data o un mese per visualizzare i dati meteorologici"})]})})}var I=a(6094),M=a(3191);let A=new I.S;function V(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(D,{}),(0,s.jsx)(M.aH,{client:A,children:(0,s.jsx)(F,{})})]})}},6294:function(e,t,a){"use strict";a.d(t,{Select:function(){return d},SelectContent:function(){return x},SelectGroup:function(){return o},SelectItem:function(){return h},SelectLabel:function(){return f},SelectTrigger:function(){return m},SelectValue:function(){return c}});var s=a(7437),r=a(2265),l=a(4867),i=a(7539),n=a(7440);let d=i.fC,o=i.ZA,c=i.B4,m=r.forwardRef((e,t)=>{let{className:a,children:r,...d}=e;return(0,s.jsxs)(i.xz,{ref:t,className:(0,n.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...d,children:[r,(0,s.jsx)(i.JO,{asChild:!0,children:(0,s.jsx)(l.jnn,{className:"w-4 h-4 opacity-50"})})]})});m.displayName=i.xz.displayName;let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.u_,{ref:t,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(l.g8U,{})})});u.displayName=i.u_.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.$G,{ref:t,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(l.v4q,{})})});p.displayName=i.$G.displayName;let x=r.forwardRef((e,t)=>{let{className:a,children:r,position:l="popper",...d}=e;return(0,s.jsx)(i.h_,{children:(0,s.jsxs)(i.VY,{ref:t,className:(0,n.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...d,children:[(0,s.jsx)(u,{}),(0,s.jsx)(i.l_,{className:(0,n.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(p,{})]})})});x.displayName=i.VY.displayName;let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.__,{ref:t,className:(0,n.cn)("px-2 py-1.5 text-sm font-semibold",a),...r})});f.displayName=i.__.displayName;let h=r.forwardRef((e,t)=>{let{className:a,children:r,...d}=e;return(0,s.jsxs)(i.ck,{ref:t,className:(0,n.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...d,children:[(0,s.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(i.wU,{children:(0,s.jsx)(l.nQG,{className:"w-4 h-4"})})}),(0,s.jsx)(i.eT,{children:r})]})});h.displayName=i.ck.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.Z0,{ref:t,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=i.Z0.displayName}},function(e){e.O(0,[310,967,287,545,539,978,210,9,971,23,744],function(){return e(e.s=420)}),_N_E=e.O()}]);